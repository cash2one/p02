<map version="0.9.0">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node BACKGROUND_COLOR="#ffff00" COLOR="#000000" CREATED="1308039537721" ID="ID_807597961" MODIFIED="1308139288965" STYLE="fork" TEXT="&#x673a;&#x5668;&#x4eba;&#x4ee3;&#x7801;&#x5206;&#x6790;">
<edge WIDTH="thin"/>
<font NAME="SansSerif" SIZE="20"/>
<hook NAME="accessories/plugins/RevisionPlugin.properties"/>
<node CREATED="1308044275264" ID="ID_1800393062" MODIFIED="1308099611231" POSITION="right" TEXT="">
<font NAME="SansSerif" SIZE="12"/>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308099587246" HGAP="14" ID="ID_298175736" MODIFIED="1308139291842" TEXT="&#x673a;&#x5668;&#x4eba;&#x542f;&#x52a8;" VSHIFT="-59">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101699392" ID="ID_1359716840" MODIFIED="1308102239035" TEXT="---&#x5148;&#x542f;&#x52a8;&#x670d;&#x52a1;&#x7aef;&#xa;---&#x542f;&#x52a8;Erlang Shell, &#x8fd0;&#x884c;robot:start (start/0, start/2 &#x6216; start/3)&#xa;---&#x4f8b;&#x5b50;: &#x4ee5;&#x8dd1;&#x6b65;&#x6a21;&#x5f0f;1&#x542f;&#x52a8;5&#x4e2a;&#x673a;&#x5668;&#x4eba;&#xa;    #erl &#xa;    1&gt; robot:start(5, 1).&#xa;---start(StartId, Num, Mod)&#x5404;&#x53c2;&#x6570;&#x7684;&#x610f;&#x601d;&#xa;    % StartId    &#x8d77;&#x59cb;AccountID&#xa;    % Num       &#x673a;&#x5668;&#x4eba;&#x6570;&#x91cf;&#xa;    % Mod         &#x8dd1;&#x6b65;&#x6a21;&#x5f0f; 1 ,2&#xa;&#xa;"/>
</node>
<node BACKGROUND_COLOR="#ffff00" COLOR="#0033ff" CREATED="1308039633833" HGAP="33" ID="ID_1653716370" MODIFIED="1308139343506" STYLE="fork" VSHIFT="-52">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      &#26426;&#22120;&#20154;&#35774;&#35745; - Erlang&#36827;&#31243;&#32467;&#26500;
    </p>
  </body>
</html></richcontent>
<edge COLOR="#808080" STYLE="sharp_bezier" WIDTH="1"/>
<font NAME="SansSerif" SIZE="12"/>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100202671" ID="ID_1176874452" MODIFIED="1308139350146" TEXT="&#x5404;&#x4e2a;Erlang&#x8fdb;&#x7a0b;&#x95f4;&#x7684;&#x5173;&#x7cfb;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100244673" ID="ID_206922749" MODIFIED="1308139351335" TEXT="&#x8d77;&#x59cb;&#x8fdb;&#x7a0b;(i.e. Erlang Shell&#x8fdb;&#x7a0b;) &#xa;#erl&#xa;1&gt; robot:start(5, 1).">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100474622" ID="ID_138646247" MODIFIED="1308100513418" TEXT="mod_rand&#x8fdb;&#x7a0b; - mod_rand:start_link()"/>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100518522" ID="ID_1449513322" MODIFIED="1308186130111" TEXT="&#x673a;&#x5668;&#x4eba;&#x8fdb;&#x7a0b;1 - robot:start_link, gen_server&#x8fdb;&#x7a0b;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100594859" ID="ID_137991182" MODIFIED="1308100746924" TEXT="&#x8bfb;&#x7f51;&#x7edc;&#x5305;&#x8fdb;&#x7a0b; - do_parse_packet"/>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100609516" ID="ID_1847841534" MODIFIED="1308206370137" TEXT="&#x5fc3;&#x8df3;&#x8fdb;&#x7a0b; - handle(heart, _, Socket)"/>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100624690" ID="ID_1566084351" MODIFIED="1308205019126" TEXT="AI&#x8fdb;&#x7a0b; - ai(Pid)"/>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100641240" ID="ID_1469405452" MODIFIED="1308191241864" TEXT="do_act&#x8fdb;&#x7a0b; - do_act(Pid)"/>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100544331" ID="ID_780570821" MODIFIED="1308100553169" TEXT="&#x673a;&#x5668;&#x4eba;&#x8fdb;&#x7a0b;2"/>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100555709" ID="ID_1178428421" MODIFIED="1308100559201" TEXT="&#x673a;&#x5668;&#x4eba;&#x8fdb;&#x7a0b;N"/>
</node>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100406599" ID="ID_1828753052" MODIFIED="1308186142248" TEXT="&#x5404;&#x4e2a;Erlang&#x8fdb;&#x7a0b;&#x7684;&#x529f;&#x80fd;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308100864638" FOLDED="true" HGAP="16" ID="ID_1324284699" MODIFIED="1308191243517" TEXT="&#x8d77;&#x59cb;&#x8fdb;&#x7a0b;(i.e. Erlang Shell&#x8fdb;&#x7a0b;) &#xa;" VSHIFT="-1">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101447701" HGAP="49" ID="ID_208538934" MODIFIED="1308101467208" TEXT="--- &#x542f;&#x52a8;&#xa;   #erl&#xa;   1&gt; robot:start(5, 1).&#xa;---&#x4e3b;&#x8981;&#x529f;&#x80fd;:&#xa;    1. &#x542f;&#x52a8;&#x673a;&#x5668;&#x4eba;&#x8fdb;&#x7a0b;&#xa;         &#x542f;&#x52a8;&#x540e;&#xff0c;&#x53d1;start_action&#x6d88;&#x606f;&#x7ed9;&#x673a;&#x5668;&#x4eba;&#x8fdb;&#x7a0b;&#xa;    2. &#x76d1;&#x63a7;&#x673a;&#x5668;&#x4eba;&#x8fdb;&#x7a0b;&#xa;         &#x5982;&#x679c;&#x53d1;&#x73b0;&#x67d0;&#x4e2a;&#x673a;&#x5668;&#x4eba;&#x8fdb;&#x7a0b;&#x6b7b;&#x4e86;,&#x5219;&#x91cd;&#x542f;&#x8be5;&#x673a;&#x5668;&#x4eba;&#x8fdb;&#x7a0b;" VSHIFT="10"/>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101015224" FOLDED="true" ID="ID_1752360470" MODIFIED="1308206291028" TEXT="mod_rand&#x8fdb;&#x7a0b; &#xa;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101484664" ID="ID_1694301642" MODIFIED="1308137183720" TEXT="---&#x542f;&#x52a8;&#xa;    mod_rand:start_link()&#xa;---&#x4e3b;&#x8981;&#x529f;&#x80fd;&#xa;     &#x8fd9;&#x4e2a;&#x8fdb;&#x7a0b;&#x7ed9;&#x5176;&#x4ed6;&#x8fdb;&#x7a0b;&#x63d0;&#x4f9b;&#x968f;&#x673a;&#x6570;&#x79cd;&#x5b50;util:rand(...)"/>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101083913" FOLDED="true" ID="ID_1005152881" MODIFIED="1308207122666" TEXT="&#x673a;&#x5668;&#x4eba;&#x8fdb;&#x7a0b;1...N - gen_server&#x8fdb;&#x7a0b;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101507303" ID="ID_1578408152" MODIFIED="1308207102747" TEXT="---&#x542f;&#x52a8;&#xa;    robot:start_link&#xa;---&#x4e3b;&#x8981;&#x529f;&#x80fd;:&#xa;    1. &#x767b;&#x9646;&#xa;       (1) &#x521b;&#x5efa;&#x89d2;&#x8272; - &#x6d88;&#x606f;10010&#xa;       (2) &#x542f;&#x52a8;&#x4e00;&#x4e2a;&#x4e13;&#x95e8;&#x8bfb;&#x7f51;&#x7edc;&#x5305;&#x7684;&#x8fdb;&#x7a0b;do_parse_packet&#xa;       (3) &#x8c03;&#x7528;handle(enter_player) - &#xa;              (3.1) &#x53d1;&#x9001;10004 (&#x9009;&#x62e9;&#x89d2;&#x8272;&#x8fdb;&#x5165;&#x6e38;&#x620f;) &#x6d88;&#x606f;&#x7ed9;&#x670d;&#x52a1;&#x5668;,&#xa;              (3.2) &#x53d1;&#x9001;{event, action_random...}&#x6d88;&#x606f;&#x7ed9;&#x81ea;&#x8eab;&#x8fdb;&#x7a0b;&#xa;       (4)  &#x8c03;&#x7528;handle(run, a, ...) - &#x53d1;&#x9001;12001 (&#x8d70;&#x8def;) &#x6d88;&#x606f;&#x7ed9;&#x670d;&#x52a1;&#x5668; --- (&#x8fd9;&#x6761;&#x6d88;&#x606f;&#x6ca1;&#x5565;&#x7528;&#xff0c;&#x5df2;&#x5220;&#x9664;)&#xa;    2. &#x53d1;&#x9001;start_action&#x6d88;&#x606f;&#x7ed9;&#x81ea;&#x8eab;&#x8fdb;&#x7a0b; - &#x901a;&#x8fc7;erlang:send_after&#x53d1;&#x9001;&#x6b64;&#x6d88;&#x606f; --- (&#x8fd9;&#x6761;&#x6d88;&#x606f;&#x6ca1;&#x5565;&#x7528;&#xff0c;&#x5df2;&#x5220;&#x9664;)&#xa;    3. &#x8fdb;&#x5165;&#x6d88;&#x606f;&#x5904;&#x7406;&#x5faa;&#x73af;, &#x5e76;&#x7ef4;&#x62a4;&#x673a;&#x5668;&#x4eba;&#x72b6;&#x6001;, &#x521d;&#x59cb;&#x72b6;&#x6001;#robot{act=run, status=standing, step=0, socket, pid, ......}&#xa;        (1) start_action&#x6d88;&#x606f;&#x7684;&#x5904;&#x7406;&#xa;              (a) &#x542f;&#x52a8;&#x5fc3;&#x8df3;&#x8fdb;&#x7a0b;&#xa;              (b) &#x6839;&#x636e;&#x673a;&#x5668;&#x4eba;&#x6a21;&#x5f0f;&#x542f;&#x52a8;AI&#x8fdb;&#x7a0b;&#x6216;do_act&#x8fdb;&#x7a0b;&#xa;        (2) {event, action_random, ...}&#x6d88;&#x606f;&#x7684;&#x5904;&#x7406;&#xa;              (a) &#x968f;&#x673a;&#x9009;&#x62e9;robot_chat&#x6216;robot_others&#x6a21;&#x5757;,&#x89e6;&#x53d1;&#x4ee5;&#x4e0b;&#x6d88;&#x606f;&#xa;                    11010 - &#x4e16;&#x754c;&#x804a;&#x5929;&#xa;                    11020 - &#x90e8;&#x843d;&#x804a;&#x5929;&#xa;                    11030 - &#x5e2e;&#x6d3e;&#x804a;&#x5929;&#xa;                    11040 - &#x961f;&#x4f0d;&#x804a;&#x5929;&#xa;                    11050 - &#x573a;&#x666f;&#x804a;&#x5929;&#xa;                    11060 - &#x4f20;&#x97f3;&#x7b26;&#xa;                    40010 - &#x83b7;&#x53d6;&#x5e2e;&#x6d3e;&#x5217;&#x8868;&#xa;                    28002 - &#x5f00;&#x5b9d;&#x7bb1; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;                    28003 - &#x83b7;&#x53d6;&#x8bdb;&#x90aa;&#x4ed3;&#x5e93;&#x6570;&#x636e; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;                    28006 - &#x4e22;&#x5f03;&#x4ed3;&#x5e93;&#x4e2d;&#x7684;&#x6240;&#x6709;&#x7269;&#x54c1; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;                    28007 - &#x5c06;&#x6240;&#x6709;&#x7269;&#x54c1;&#x653e;&#x5165;&#x80cc;&#x5305; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;              (b) &#x91cd;&#x590d;&#x53d1;&#x9001;{event, action_random, ...}&#x6d88;&#x606f;, &#x4e00;&#x76f4;&#x5faa;&#x73af;&#x4e0b;&#x53bb;&#xa;        (3) {upgrade_state, ...}&#x6d88;&#x606f;&#x7684;&#x5904;&#x7406;&#xa;              &#x4e3b;&#x8981;&#x662f;&#x66f4;&#x65b0;Status (standing or running)&#xa;        (4) {upgrade_state_13001, ...}&#x6d88;&#x606f;&#x7684;&#x5904;&#x7406;&#xa;              &#x4e3b;&#x8981;&#x662f;&#x66f4;&#x65b0;&#x4f4d;&#x7f6e;(Scene, X, Y)&#x548c;&#x8840;&#x91cf;(Hp)&#xa;        (5) {get_state, ...}&#x6d88;&#x606f;&#x7684;&#x5904;&#x7406;&#xa;              &#x8fd4;&#x56de;&#x673a;&#x5668;&#x4eba;&#x72b6;&#x6001;&#x7ed9;&#x5176;&#x4ed6;&#x8fdb;&#x7a0b;"/>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101178961" FOLDED="true" ID="ID_1231840343" MODIFIED="1308128548543" TEXT="&#x8bfb;&#x7f51;&#x7edc;&#x5305;&#x8fdb;&#x7a0b; &#xa;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101523167" ID="ID_1573697069" MODIFIED="1308101527550" TEXT="---&#x542f;&#x52a8;&#xa;    do_parse_packet&#xa;---&#x4e3b;&#x8981;&#x529f;&#x80fd;:&#xa;    1. &#x8bfb;&#x53d6;&#x7f51;&#x7edc;&#x5305;&#xa;    2. &#x68c0;&#x6d4b;&#x7f51;&#x7edc;&#x662f;&#x5426;&#x51fa;&#x9519;&#xa;    3. &#x5904;&#x7406;13001&#x6d88;&#x606f; - &#x66f4;&#x65b0;&#x73a9;&#x5bb6;&#x4fe1;&#x606f; Scene, X, Y, Hp"/>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101228660" FOLDED="true" ID="ID_378987770" MODIFIED="1308206470370" TEXT="&#x5fc3;&#x8df3;&#x8fdb;&#x7a0b;&#xa;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101537461" ID="ID_232794036" MODIFIED="1308206397216" TEXT="---&#x542f;&#x52a8;&#xa;    spawn_link(fun()-&gt;handle(heart, a ,...)&#xa;---&#x4e3b;&#x8981;&#x529f;&#x80fd;&#xa;    1. &#x6bcf;&#x9694;18&#x79d2;&#x53d1;&#x9001;&#x5fc3;&#x8df3;&#x5305;&#x7ed9;&#x670d;&#x52a1;&#x7aef;"/>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101282968" FOLDED="true" ID="ID_1670124590" MODIFIED="1308206778140" TEXT="AI&#x8fdb;&#x7a0b;  ">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101582700" ID="ID_1905175115" MODIFIED="1308206768886" TEXT="---&#x542f;&#x52a8;&#xa;    spawn_link(fun()-&gt; ai(Pid) end);&#xa;---&#x4e3b;&#x8981;&#x529f;&#x80fd; (&#x6362;&#x573a;&#x666f;, &#x8d70;&#x8def;):&#xa;    1. &#x968f;&#x673a;&#x7761;&#x7720;&#x4e00;&#x6bb5;&#x65f6;&#x95f4; (1~2&#x79d2;)&#xa;    2. &#x4ece;&#x673a;&#x5668;&#x4eba;&#x8fdb;&#x7a0b;&#x83b7;&#x53d6;&#x673a;&#x5668;&#x4eba;&#x72b6;&#x6001;&#xa;    3. &#x6839;&#x636e;&#x673a;&#x5668;&#x4eba;&#x72b6;&#x6001;&#x53d1;&#x9001;&#x4ee5;&#x4e0b;&#x6d88;&#x606f;&#x7ed9;&#x670d;&#x52a1;&#x7aef;&#xa;        (1) standing&#x72b6;&#x6001;&#xa;             ---Action&#xff1a;&#x9009;&#x62e9;&#x4e0b;&#x4e00;&#x4e2a;&#x4f4d;&#x7f6e;&#xff0c;&#x66f4;&#x65b0;&#x72b6;&#x6001;&#x4e3a;running  &#xa;             ---&#x5177;&#x4f53;&#x6b65;&#x9aa4;&#xff1a;&#xa;              (1.1) &#x521d;&#x59cb;&#x72b6;&#x6001; step == 0&#xa;                      (a)  &#x968f;&#x673a;&#x9009;&#x62e9;&#x4e0b;&#x4e00;&#x4e2a;&#x76ee;&#x7684;&#x5730;&#xff1a;scene, x&#x5750;&#x6807;, y&#x5750;&#x6807;&#xa;                      (b)  &#x53d1;&#x9001;12005 (&#x5207;&#x6362;&#x5230;&#x65b0;&#x573a;&#x666f;)&#x6d88;&#x606f;&#x7ed9;&#x670d;&#x52a1;&#x7aef;           &#xa;                      (c)  &#x66f4;&#x65b0;&#x673a;&#x5668;&#x4eba;&#x72b6;&#x6001;: tox, toy, step = 1, status=running&#xa;              (1.2)  &#x5e38;&#x89c4;&#x72b6;&#x6001; step =/= 0&#xa;                      (a) &#x968f;&#x673a;&#x751f;&#x6210;&#x4e0b;&#x4e00;&#x4e2a;&#x76ee;&#x7684;&#x5730;&#xff1a;x&#x5750;&#x6807;, y &#x5750;&#x6807;&#xa;                      (b) &#x66f4;&#x65b0;&#x673a;&#x5668;&#x4eba;&#x72b6;&#x6001;: tox, toy, step = 1, status=running&#xa;        (2) running&#x72b6;&#x6001;&#xa;             ---Action&#xff1a;&#x8dd1;&#x5230;&#x4e0b;&#x4e00;&#x4e2a;&#x76ee;&#x7684;&#x5730;&#xff0c;&#x66f4;&#x65b0;&#x72b6;&#x6001;&#x4e3a;standing   &#xa;             ---&#x5177;&#x4f53;&#x6b65;&#x9aa4;&#xa;               (2.1) &#x8ba1;&#x7b97;&#x65b0;&#x7684;x,y&#x5750;&#x6807;, &#x6ee1;&#x8db3;x, y&#x7684;&#x5750;&#x6807;&#x53d8;&#x5316;&#x90fd;&lt;=6&#xff0c;&#x5373;&#x4ee5;&#x5c0f;&#x6b65;&#x4f10;&#x8d70;&#x5411;&#x76ee;&#x7684;&#x5730;&#xa;               (2.2) &#x53d1;&#x9001;12001(&#x8d70;&#x8def;)&#x6d88;&#x606f;&#x7ed9;&#x670d;&#x52a1;&#x7aef;&#xa;               (2.3) &#x5982;&#x679c;&#x5df2;&#x8d70;&#x5230;&#x76ee;&#x7684;&#x5730;&#xff0c;&#x66f4;&#x65b0;&#x673a;&#x5668;&#x4eba;&#x72b6;&#x6001;: status=standing&#xa;         (3)  &#x6b7b;&#x4ea1;&#x72b6;&#x6001; hp &lt;= 0&#xa;              ----Action&#xff1a; &#x8c03;&#x7528;handle(revive,a, ....), &#x53d1;&#x9001;20004(&#x6b7b;&#x4ea1;&#x590d;&#x6d3b;)&#x6d88;&#x606f;&#x7ed9;&#x670d;&#x52a1;&#x7aef;&#xa;    4. &#x8c03;&#x7528;handle(get_self_info,....), &#x53d1;&#x9001;13001(&#x83b7;&#x53d6;&#x73a9;&#x5bb6;&#x4fe1;&#x606f;)&#x6d88;&#x606f; --- (&#x5df2;&#x6539;&#x4e3a;&#x53ea;&#x5728;&#x53d1;&#x9001;&#x8fc7;12001&#x540e;&#x624d;&#x53d1;&#x9001;13001)&#xa;    5. &#x5faa;&#x73af;&#x6267;&#x884c;1~4      "/>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101386930" FOLDED="true" ID="ID_1334060827" MODIFIED="1308206468230" TEXT="do_act&#x8fdb;&#x7a0b;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308101600634" ID="ID_1645297985" MODIFIED="1308206457454" TEXT="---&#x542f;&#x52a8;&#xa;    spawn_link(fun()-&gt; do_act(Pid) end);&#xa;---&#x4e3b;&#x8981;&#x529f;&#x80fd;(&#x8d70;&#x8def;, &#x6ca1;&#x6709;ai&#x8fdb;&#x7a0b;&#x7684;standing&#x72b6;&#x6001;)&#xa;    &#x6bcf;&#x9694;20&#x79d2;&#x53d1;&#x9001;&#x4e00;&#x6b21;&#x8d70;&#x8def;&#x6d88;&#x606f;, x, y&#x662f;&#x968f;&#x673a;&#x8ba1;&#x7b97;&#x7684;"/>
</node>
</node>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308044384633" HGAP="32" ID="ID_539020532" MODIFIED="1308139295026" TEXT="Client &lt;-&gt; Sever&#x6d88;&#x606f;" VSHIFT="10">
<font NAME="SansSerif" SIZE="12"/>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308123567558" FOLDED="true" ID="ID_1277389915" MODIFIED="1308186134869" TEXT="&#x4e3b;&#x8981;&#x7684;&#x6d88;&#x606f;&#x4ea4;&#x4e92;&#x6d41;&#x7a0b;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308123622181" ID="ID_486720441" MODIFIED="1308133562511" TEXT="1.   C &gt;&gt; S&#x9;&#x5efa;&#x7acb;&#x5230;&#x201c;&#x7f51;&#x5173;&#x201d;&#x7684;TCP Socket&#x8fde;&#x63a5;&#xff0c;&#x201c;&#x7f51;&#x5173;&#x201d;&#x5b9e;&#x9645;&#x4e0a;&#x4e5f;&#x662f;&#x4e00;&#x4e2a;Server (IP&#xff0c;Port&#x56fa;&#x5b9a;)&#xa;2.   S &gt;&gt; C&#x9;&#x7f51;&#x5173;&#x63a5;&#x53d7;TCP Socket&#x8fde;&#x63a5;&#xa;3.   C &gt;&gt; S&#x9;&#x53d1;&#x9001;60000(&#x83b7;&#x53d6;&#x7f51;&#x5173;&#x5217;&#x8868;)&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a;&#x65e0;&#xa;4.   S &gt;&gt; C&#x9;&#x56de;&#x590d;60000&#x6d88;&#x606f;&#xff0c;&#x8fd4;&#x56de;&#x7a7a;&#x95f2;&#x7684;Server IP, Port&#xff0c;&#x5e76;&#x5173;&#x95ed;TCP Socket&#x8fde;&#x63a5;&#x3002;&#xa;5.   C &gt;&gt; S&#x9;&#x5efa;&#x7acb;&#x5230;Server&#x7684;TCP Socket&#x8fde;&#x63a5;&#xa;6.   S &gt;&gt; C&#x9;Server&#x63a5;&#x53d7;TCP Socket&#x8fde;&#x63a5;&#xa;7.   C &gt;&gt; S&#x9;&#x53d1;&#x9001;10010(&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x89d2;&#x8272;&#x6216;&#x81ea;&#x52a8;&#x5206;&#x914d;&#x4e00;&#x4e2a;&#x89d2;&#x8272;)&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a;(1) &#x5f00;&#x670d;&#x7f16;&#x53f7; (2) &#x8d26;&#x53f7;ID &#xa;8.   S &gt;&gt; C&#x9;&#x56de;&#x590d;10010&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a; (1) &#x8d26;&#x53f7;ID (2) &#x89d2;&#x8272;ID (3) &#x89d2;&#x8272;&#x540d;&#x5b57;&#xa;9.   C &gt;&gt; S&#x9;&#x53d1;&#x9001;10004(&#x9009;&#x62e9;&#x89d2;&#x8272;&#x8fdb;&#x5165;&#x6e38;&#x620f;)&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a;&#x89d2;&#x8272;ID&#xa;10. S &gt;&gt; C&#x9;&#x56de;&#x590d;10004&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a;(1) &#x7ed3;&#x679c; - &#x6210;&#x529f; or &#x5931;&#x8d25;&#xa;11. C &gt;&gt; S&#x9;&#x53d1;&#x9001;12001(&#x8d70;&#x8def;)&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a;(1) X&#x5750;&#x6807; (2) Y&#x5750;&#x6807;&#xa;12. S &gt;&gt; C&#x9;&#x56de;&#x590d;12001(&#x8d70;&#x8def;)&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a;(1) X&#x5750;&#x6807; (2) Y&#x5750;&#x6807; (3) &#x7528;&#x6237;ID&#xa;13. C &gt;&gt; S&#x9;&#x53d1;&#x9001;10006(&#x5fc3;&#x8df3;)&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a;&#x65e0;&#x3002; &#x6ce8;&#xff1a;&#x4ece;Log&#x6765;&#x770b;&#xff0c;Server&#x6ca1;&#x56de;&#x590d;&#x5fc3;&#x8df3;&#x6d88;&#x606f;&#x7ed9;&#x673a;&#x5668;&#x4eba;&#xa;14. C &gt;&gt; S&#x9;&#x53d1;&#x9001;12005(&#x5207;&#x6362;&#x5230;&#x65b0;&#x573a;&#x666f;)&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a;(1) &#x573a;&#x666f;ID&#xa;15. S &gt;&gt; C&#x9;&#x56de;&#x590d;12005(&#x5207;&#x6362;&#x5230;&#x65b0;&#x573a;&#x666f;)&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a;(2) &#x573a;&#x666f;ID (2) X (3) Y (4) &#x540d;&#x79f0; &#x5176;&#x4ed6;......&#xa;16. C &gt;&gt; S&#x9;&#x53d1;&#x9001;13001(&#x83b7;&#x53d6;&#x73a9;&#x5bb6;&#x4fe1;&#x606f;)&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a; &#x65e0;&#x3002;&#xa;17. S &gt;&gt; C&#x9;&#x56de;&#x590d;13001(&#x83b7;&#x53d6;&#x73a9;&#x5bb6;&#x4fe1;&#x606f;)&#x6d88;&#x606f;&#xff0c;&#x5b57;&#x6bb5;&#xff1a;(1) &#x573a;&#x666f;ID (2) X (3) Y (4) &#x7528;&#x6237;ID &#x5176;&#x4ed6;......&#xa;18. C &gt;&gt; S&#x9;&#x53d1;&#x9001;12001(&#x8d70;&#x8def;)&#x6d88;&#x606f;&#xa;19. S &gt;&gt; C&#x9;&#x56de;&#x590d;12001(&#x8d70;&#x8def;)&#x6d88;&#x606f;&#xa;20. C &gt;&gt; S&#x9;&#x53d1;&#x9001;13001(&#x83b7;&#x53d6;&#x73a9;&#x5bb6;&#x4fe1;&#x606f;)&#x6d88;&#x606f;&#xa;21. S &gt;&gt; C&#x9;&#x56de;&#x590d;13001(&#x83b7;&#x53d6;&#x73a9;&#x5bb6;&#x4fe1;&#x606f;)&#x6d88;&#x606f;&#xa;22. C &gt;&gt; S&#x9;&#x53d1;&#x9001;10006(&#x5fc3;&#x8df3;)&#x6d88;&#x606f;&#xa;&#x91cd;&#x590d;18~22&#x7684;&#x6d88;&#x606f;&#xa;&#xa;"/>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308123597468" FOLDED="true" ID="ID_1702616854" MODIFIED="1308139331917" TEXT="&#x8986;&#x76d6;&#x5230;&#x7684;&#x6d88;&#x606f;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308051897062" ID="ID_876529945" MODIFIED="1308120373590" TEXT="1.   60000 - &#x83b7;&#x53d6;&#x670d;&#x52a1;&#x5668;&#x7684;IP, Port, &#x670d;&#x52a1;&#x7aef;&#x5728;&#x8fd9;&#x91cc;&#x53ef;&#x4ee5;&#x6839;&#x636e;&#x8d1f;&#x8f7d;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6bd4;&#x8f83;&#x7a7a;&#x95f2;&#x7684;&#x670d;&#x52a1;&#x5668;&#xa;2.   10010 - &#x521b;&#x5efa;&#x89d2;&#x8272;&#xa;3.   10004 - &#x9009;&#x62e9;&#x89d2;&#x8272;&#x8fdb;&#x5165;&#x6e38;&#x620f;&#xa;4.   12001 - &#x8d70;&#x8def;&#xa;5.   10006 - &#x5fc3;&#x8df3;&#x5305; *&#xa;6.   12005 - &#x5207;&#x6362;&#x5230;&#x65b0;&#x573a;&#x666f; *&#xa;7.   20004 - &#x6b7b;&#x4ea1;&#x590d;&#x6d3b; *&#xa;8.   13001 - &#x83b7;&#x53d6;&#x73a9;&#x5bb6;&#x4fe1;&#x606f; *&#xa;9.   13004 - &#x6307;&#x5b9a;ID&#x73a9;&#x5bb6;&#x4fe1;&#x606f; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;10. 11010 - &#x4e16;&#x754c;&#x804a;&#x5929;&#xa;11. 11020 - &#x90e8;&#x843d;&#x804a;&#x5929;&#xa;12. 11030 - &#x5e2e;&#x6d3e;&#x804a;&#x5929;&#xa;13. 11040 - &#x961f;&#x4f0d;&#x804a;&#x5929;&#xa;14. 11050 - &#x573a;&#x666f;&#x804a;&#x5929;&#xa;15. 11060 - &#x4f20;&#x97f3;&#x7b26;&#xa;16. 40010 - &#x83b7;&#x53d6;&#x5e2e;&#x6d3e;&#x5217;&#x8868;&#xa;17. 28002 - &#x5f00;&#x5b9d;&#x7bb1; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;18. 28003 - &#x83b7;&#x53d6;&#x8bdb;&#x90aa;&#x4ed3;&#x5e93;&#x6570;&#x636e; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;19. 28006 - &#x4e22;&#x5f03;&#x4ed3;&#x5e93;&#x4e2d;&#x7684;&#x6240;&#x6709;&#x7269;&#x54c1; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;20. 28007 - &#x5c06;&#x6240;&#x6709;&#x7269;&#x54c1;&#x653e;&#x5165;&#x80cc;&#x5305; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;21. 10000 - &#x7528;&#x6237;&#x767b;&#x9646; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;22. 10002 - &#x83b7;&#x53d6;&#x89d2;&#x8272;&#x5217;&#x8868; (&#x88ab;&#x6ce8;&#x91ca;&#x6389;&#x4e86;)&#xa;"/>
</node>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308053297562" FOLDED="true" HGAP="25" ID="ID_283047549" MODIFIED="1308206294740" TEXT="&#x6539;&#x8fdb;" VSHIFT="82">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308102279140" ID="ID_1964356836" MODIFIED="1308137353611" TEXT="1. &#x591a;&#x4e2a;&#x8fdb;&#x7a0b;&#x90fd;&#x5199;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x6a21;&#x5757;&#x91cc;&#xff0c;&#x628a;&#x5404;&#x8fdb;&#x7a0b;&#x5206;&#x5230;&#x5404;&#x4e2a;&#x5355;&#x72ec;&#x6a21;&#x5757;&#x4f1a;&#x4f7f;&#x4ee3;&#x7801;&#x66f4;&#x5bb9;&#x6613;&#x7406;&#x89e3;&#xff0c;&#x7ef4;&#x62a4;&#xff0c;&#x6269;&#x5c55;&#xa;2. &#x6a21;&#x62df;&#x7684;Client&lt;-&gt;Server&#x6d88;&#x606f;&#x8fd8;&#x53ef;&#x4ee5;&#x518d;&#x589e;&#x52a0;&#xff0c;&#x8986;&#x76d6;&#x66f4;&#x591a;&#x7684;&#x6d88;&#x606f;&#xa;3. &#x6ca1;&#x6709;&#x68c0;&#x67e5;Server&#x53d1;&#x9001;&#x56de;&#x7ed9;&#x673a;&#x5668;&#x4eba;&#x7684;&#x6d88;&#x606f;&#x7684;&#x6b63;&#x786e;&#x6027;&#xa;4. &#x6ca1;&#x6709;&#x68c0;&#x67e5;Server&#x53d1;&#x9001;&#x56de;&#x7ed9;&#x673a;&#x5668;&#x4eba;&#x7684;&#x6d88;&#x606f;&#x7684;&#x5ef6;&#x8fdf;&#xff0c;&#x5373;Server&#x662f;&#x5426;&#x201c;&#x5361;&#x201d;&#xa;5. &#x201c;&#x7f51;&#x5173;&#x201d;&#x8fd4;&#x56de;&#x7a7a;&#x95f2;Server&#x7684;IP, Port&#x540e;&#xff0c;TCP Socket&#x8fde;&#x63a5;&#x53ef;&#x91cd;&#x7528;&#xff0c;&#x4e0d;&#x9700;&#x8981;&#x9a6c;&#x4e0a;&#x5173;&#x95ed;&#x3002;&#x8981;&#x91cd;&#x7528;TCP Socket&#x8fde;&#x63a5;&#xff0c;&#x5219;&#x673a;&#x5668;&#x4eba;&#x9700;&#x8981;&#x68c0;&#x67e5;&#x8fd4;&#x56de;&#x7684;Server IP, Port&#x662f;&#x5426;&#x4e0e;&#x201c;&#x7f51;&#x5173;&#x201d;IP, Port&#x76f8;&#x540c;&#xff0c;&#x82e5;&#x76f8;&#x540c;&#xff0c;&#x5219;&#x4e0d;&#x9700;&#x91cd;&#x65b0;&#x5efa;&#x7acb;TCP Socket&#x8fde;&#x63a5;&#x3002;"/>
</node>
<node BACKGROUND_COLOR="#ffff00" CREATED="1308131600914" FOLDED="true" ID="ID_990645917" MODIFIED="1308206296022" TEXT="&#x95ee;&#x9898;">
<node BACKGROUND_COLOR="#ffff00" CREATED="1308136652966" ID="ID_11410186" MODIFIED="1308136670363" TEXT="&#x7528;io:format&#x8c03;&#x8bd5;&#x4e0d;&#x662f;&#x5f88;&#x65b9;&#x4fbf;&#xff0c;&#x4e0d;&#x80fd;&#x81ea;&#x52a8;&#x6253;&#x5370;&#x51fa;&#x6a21;&#x5757;&#x540d;&#x5b57;&#x548c;&#x884c;&#x53f7;&#x3002;&#x6211;&#x81ea;&#x5df1;&#x5199;&#x4e86;&#x4e2a;&#x5b8f;&#x653e;&#x5728;common.hrl&#xff0c;&#x65b9;&#x4fbf;&#x8c03;&#x8bd5;&#xa;-define(TAG_PRINT(Tag, Format, Args),&#xa;    io:format(&quot;(~p:~s:~p:~p:~p) : &quot; ++ Format, [Tag, misc:time_format(now()), self(), ?MODULE, ?LINE] ++ Args)).&#xa;&#xa;&#x4f7f;&#x7528;&#xff1a; ?TAG_PRINT(debug, &quot;~ts~n&quot;, [&lt;&lt;&quot;&#x5efa;&#x7acb;&#x5230;&#x7f51;&#x5173;&#x7684;TCP Socket&#x8fde;&#x63a5;&quot;&gt;&gt;]),&#xa;&#x8f93;&#x51fa;&#xff1a;(debug:2011-06-15 13:59:29:&lt;0.34.0&gt;:robot:175) : &#x5efa;&#x7acb;&#x5230;&#x7f51;&#x5173;&#x7684;TCP Socket&#x8fde;&#x63a5;"/>
</node>
</node>
</node>
</map>
